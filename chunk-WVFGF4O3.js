import{a as T}from"./chunk-SFKET6CN.js";import{a as k,b as g,c as A,d as N,e as P,f as _,h as D,i as O,j as R,l as q}from"./chunk-3CLL7LMM.js";import"./chunk-SZXLN6HP.js";import{$a as S,A as b,Aa as r,Ca as F,Ia as y,La as v,W as m,ca as u,ea as f,gb as E,ia as d,ma as n,na as i,oa as w,sa as C,sb as L,ta as h,tb as M,z as x}from"./chunk-ABLYTEQI.js";import"./chunk-EQDQRRRY.js";var G=(t,o)=>({"is-valid":t,"is-invalid":o});function j(t,o){t&1&&(n(0,"p",18),r(1,"This field is required"),i())}function V(t,o){t&1&&(n(0,"p",18),r(1,"This field must be in an email form"),i())}function z(t,o){if(t&1&&(n(0,"div"),u(1,j,2,0,"p",18)(2,V,2,0,"p",18),i()),t&2){let l,e=h();m(),d((l=e.loginForm.get("email"))!=null&&l.getError("required")?1:(l=e.loginForm.get("email"))!=null&&l.getError("email")?2:-1)}}function H(t,o){t&1&&(n(0,"p",18),r(1,"This field is required"),i())}function U(t,o){t&1&&(n(0,"p",18),r(1,"Password is at least 6 character"),i())}function Y(t,o){if(t&1&&(n(0,"div"),u(1,H,2,0,"p",18)(2,U,2,0,"p",18),i()),t&2){let l,e=h();m(),d((l=e.loginForm.get("password"))!=null&&l.getError("required")?1:(l=e.loginForm.get("password"))!=null&&l.getError("minlength")?2:-1)}}function B(t,o){t&1&&(n(0,"span"),w(1,"i",19),i())}function J(t,o){if(t&1&&(n(0,"div",13),r(1),i()),t&2){let l=h();m(),F(" ",l.errorMsg," ")}}function K(t,o){t&1&&(n(0,"div",14),r(1," Logged in successfully! "),i())}var I=class t{isLoading=!1;successMsg=!1;errorMsg="";_Router=x(L);_AuthService=x(T);loginForm=new P({email:new _(null,[g.required,g.email]),password:new _(null,[g.required,g.minLength(6)])});loginSubmit(){this.loginForm.valid?(this.isLoading=!0,this._AuthService.setLoginForm(this.loginForm.value).subscribe({next:o=>{console.log(o),o.message=="success"&&(this.isLoading=!1,this.errorMsg="",this.successMsg=!0,localStorage.setItem("userToken",o.token),this._AuthService.saveUserData(),setTimeout(()=>{this._Router.navigate(["/home"])},1500))},error:o=>{this.errorMsg=o.error.message,console.log(o),this.isLoading=!1}})):(this.loginForm.setErrors({mismatch:!0}),this.loginForm.markAllAsTouched()),console.log(this.loginForm)}static \u0275fac=function(l){return new(l||t)};static \u0275cmp=b({type:t,selectors:[["app-login"]],standalone:!0,features:[y],decls:37,vars:14,consts:[[1,"min-h-screen","flex","flex-col","justify-center","items-center","bg-gradient-to-b","from-purple-900","to-indigo-950","text-white","px-6"],[1,"mb-8","flex","flex-col","items-center"],[1,"w-16","h-16","bg-white/20","rounded-full","flex","items-center","justify-center","text-3xl","font-bold"],[1,"text-white"],[1,"mt-3","text-2xl","font-semibold","tracking-wide"],[1,"bg-white/10","backdrop-blur-xl","rounded-2xl","shadow-2xl","p-8","w-full","max-w-md","border","border-white/10"],[1,"text-xl","font-bold","text-center","mb-6"],[1,"text-center","text-white/70","mb-5"],[1,"space-y-5",3,"ngSubmit","formGroup"],[1,"block","mb-1","text-sm","text-gray-300"],["formControlName","email","type","email","placeholder","Email",1,"w-full","px-4","py-2","rounded-xl","bg-white/20","text-white","placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-purple-500","transition",3,"ngClass"],["formControlName","password","type","password","placeholder","password",1,"w-full","px-4","py-2","rounded-xl","bg-white/20","text-white","placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-purple-500","transition",3,"ngClass"],["type","submit",1,"w-full","mt-3","py-2","bg-purple-600","hover:bg-purple-700","rounded-xl","font-semibold","text-white","transition","transform","hover:scale-[1.02]","active:scale-95"],[1,"mt-4","rounded-xl","bg-rose-100/70","border","border-rose-300/50","text-rose-700","text-sm","px-4","py-3","shadow-sm","backdrop-blur-sm","animate-fadeIn","text-center"],[1,"mt-4","rounded-xl","bg-green-100/70","border","border-green-300/50","text-green-800","text-sm","px-4","py-3","shadow-sm","backdrop-blur-sm","animate-fadeIn","text-center"],[1,"text-sm","text-center","text-gray-300","mt-6"],["routerLink","/forgot-password",1,"text-purple-400","hover:text-purple-300","underline"],["routerLink","/register",1,"text-purple-400","hover:text-purple-300","underline"],[1,"text-red-400"],[1,"fas","fa-spin","fa-spinner","text-red-300"]],template:function(l,e){if(l&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),r(4,"\u{1F6CD}\uFE0F"),i()(),n(5,"h1",4),r(6,"MyShop"),i()(),n(7,"div",5)(8,"h2",6),r(9,"Login to Your Account"),i(),n(10,"p",7),r(11," Start shopping with exclusive offers! "),i(),n(12,"form",8),C("ngSubmit",function(){return e.loginSubmit()}),n(13,"div")(14,"label",9),r(15,"Email Address"),i(),w(16,"input",10),i(),u(17,z,3,1,"div"),n(18,"div")(19,"label",9),r(20,"Password"),i(),w(21,"input",11),i(),n(22,"div"),u(23,Y,3,1,"div"),i(),n(24,"button",12),u(25,B,2,0,"span"),r(26," Login "),i(),u(27,J,2,1,"div",13)(28,K,2,0,"div",14),i(),n(29,"p",15),r(30," Can't Login ? "),n(31,"a",16),r(32,"Forgot Password"),i()(),n(33,"p",15),r(34," New User ? "),n(35,"a",17),r(36,"Create Account"),i()()()()),l&2){let a,p,s,c;m(12),f("formGroup",e.loginForm),m(4),f("ngClass",v(8,G,!((a=e.loginForm.get("email"))!=null&&a.errors)&&(((a=e.loginForm.get("email"))==null?null:a.dirty)||((a=e.loginForm.get("email"))==null?null:a.touched)),((a=e.loginForm.get("email"))==null?null:a.errors)&&(((a=e.loginForm.get("email"))==null?null:a.dirty)||((a=e.loginForm.get("email"))==null?null:a.touched)))),m(),d((p=e.loginForm.get("email"))!=null&&p.errors&&((p=e.loginForm.get("email"))!=null&&p.touched)?17:-1),m(4),f("ngClass",v(11,G,!((s=e.loginForm.get("password"))!=null&&s.errors)&&(((s=e.loginForm.get("password"))==null?null:s.dirty)||((s=e.loginForm.get("password"))==null?null:s.touched)),((s=e.loginForm.get("password"))==null?null:s.errors)&&(((s=e.loginForm.get("password"))==null?null:s.dirty)||((s=e.loginForm.get("password"))==null?null:s.touched)))),m(2),d((c=e.loginForm.get("password"))!=null&&c.errors&&((c=e.loginForm.get("password"))!=null&&c.touched)?23:-1),m(2),d(e.isLoading?25:-1),m(2),d(e.errorMsg?27:-1),m(),d(e.successMsg?28:-1)}},dependencies:[q,D,k,A,N,O,R,M,S,E],styles:[".is-valid[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(74 222 128 / var(--tw-border-opacity, 1));background-color:#14532d33;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: rgb(74 222 128 / .5);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}@keyframes _ngcontent-%COMP%_pulse{50%{opacity:.5}}.is-invalid[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s cubic-bezier(.4,0,.6,1) infinite;--tw-border-opacity: 1;border-color:rgb(248 113 113 / var(--tw-border-opacity, 1));background-color:#ef444433;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: rgb(248 113 113 / .5);animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}.animate-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}"]})};export{I as LoginComponent};
