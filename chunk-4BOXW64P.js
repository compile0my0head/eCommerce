import{a as P}from"./chunk-SFKET6CN.js";import{a as M,b as m,c as k,d as T,e as p,f as c,h as D,i as N,j as R,l as A}from"./chunk-3CLL7LMM.js";import"./chunk-SZXLN6HP.js";import{$a as S,A as h,Aa as a,Ca as y,Ia as _,La as C,W as s,ca as u,ea as w,gb as V,ia as d,ma as o,na as r,oa as v,sa as x,sb as E,ta as b,tb as F,z as g}from"./chunk-ABLYTEQI.js";import"./chunk-EQDQRRRY.js";var L=(e,t)=>({"is-valid":e,"is-invalid":t});function O(e,t){e&1&&(o(0,"p",15),a(1,"This field is required"),r())}function q(e,t){e&1&&(o(0,"p",15),a(1,"This field must be in an email form"),r())}function I(e,t){if(e&1&&(o(0,"div"),u(1,O,2,0,"p",15)(2,q,2,0,"p",15),r()),e&2){let l,i=b();s(),d((l=i.emailVerify.get("email"))!=null&&l.getError("required")?1:(l=i.emailVerify.get("email"))!=null&&l.getError("email")?2:-1)}}function j(e,t){e&1&&(o(0,"span"),v(1,"i",16),r())}function z(e,t){if(e&1&&(o(0,"div",11),a(1),r()),e&2){let l=b();s(),y(" ",l.errorMsg," ")}}function H(e,t){e&1&&(o(0,"div",12),a(1," Verify code sent to your email "),r())}var G=class e{isLoading=!1;successMsg=!1;errorMsg="";_AuthService=g(P);_Router=g(E);emailVerify=new p({email:new c(null,[m.required,m.email])});verifyCode=new p({resetCode:new c(null,[m.required,m.pattern(/^\w{6}$/)])});resetPassword=new p({email:new c(null,[m.required,m.email])});emailVerifySubmit(){this.emailVerify.valid?(this.isLoading=!0,this._AuthService.setEmailVerify(this.emailVerify.value).subscribe({next:t=>{console.log(t),t.statusMsg=="success"&&(this.isLoading=!1,this.errorMsg="",this.successMsg=!0,localStorage.setItem("forgotPasswordToken",t.token),this._AuthService.saveUserData(),setTimeout(()=>{this._Router.navigate(["forgot-password/verify-code"])},1500))},error:t=>{this.errorMsg=t.error.message,console.log(t),this.isLoading=!1}})):this.emailVerify.markAllAsTouched(),console.log(this.emailVerify)}static \u0275fac=function(l){return new(l||e)};static \u0275cmp=h({type:e,selectors:[["app-forgot-password"]],standalone:!0,features:[_],decls:25,vars:9,consts:[[1,"min-h-screen","flex","flex-col","justify-center","items-center","bg-gradient-to-b","from-purple-900","to-indigo-950","text-white","px-6"],[1,"mb-8","flex","flex-col","items-center"],[1,"w-16","h-16","bg-white/20","rounded-full","flex","items-center","justify-center","text-3xl","font-bold"],[1,"text-white"],[1,"mt-3","text-2xl","font-semibold","tracking-wide"],[1,"bg-white/10","backdrop-blur-xl","rounded-2xl","shadow-2xl","p-8","w-full","max-w-md","border","border-white/10"],[1,"text-xl","font-bold","text-center","mb-6"],[1,"space-y-5",3,"ngSubmit","formGroup"],[1,"block","mb-1","text-sm","text-gray-300"],["formControlName","email","type","email","placeholder","Email",1,"w-full","px-4","py-2","rounded-xl","bg-white/20","text-white","placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-purple-500","transition",3,"ngClass"],["type","submit",1,"w-full","mt-3","py-2","bg-purple-600","hover:bg-purple-700","rounded-xl","font-semibold","text-white","transition","transform","hover:scale-[1.02]","active:scale-95"],[1,"mt-4","rounded-xl","bg-rose-100/70","border","border-rose-300/50","text-rose-700","text-sm","px-4","py-3","shadow-sm","backdrop-blur-sm","animate-fadeIn","text-center"],[1,"mt-4","rounded-xl","bg-green-100/70","border","border-green-300/50","text-green-800","text-sm","px-4","py-3","shadow-sm","backdrop-blur-sm","animate-fadeIn","text-center"],[1,"text-sm","text-center","text-gray-300","mt-6"],["routerLink","/login",1,"text-purple-400","hover:text-purple-300","underline"],[1,"text-red-400"],[1,"fas","fa-spin","fa-spinner","text-red-300"]],template:function(l,i){if(l&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),a(4,"\u{1F6CD}\uFE0F"),r()(),o(5,"h1",4),a(6,"MyShop"),r()(),o(7,"div",5)(8,"h2",6),a(9,"Reset Password"),r(),o(10,"form",7),x("ngSubmit",function(){return i.emailVerifySubmit()}),o(11,"div")(12,"label",8),a(13,"Email Address"),r(),v(14,"input",9),r(),u(15,I,3,1,"div"),o(16,"button",10),u(17,j,2,0,"span"),a(18," Send Verification Code "),r(),u(19,z,2,1,"div",11)(20,H,2,0,"div",12),r(),o(21,"p",13),a(22," Remembered Password ? "),o(23,"a",14),a(24,"Login"),r()()()()),l&2){let n,f;s(10),w("formGroup",i.emailVerify),s(4),w("ngClass",C(6,L,!((n=i.emailVerify.get("email"))!=null&&n.errors)&&(((n=i.emailVerify.get("email"))==null?null:n.dirty)||((n=i.emailVerify.get("email"))==null?null:n.touched)),((n=i.emailVerify.get("email"))==null?null:n.errors)&&(((n=i.emailVerify.get("email"))==null?null:n.dirty)||((n=i.emailVerify.get("email"))==null?null:n.touched)))),s(),d((f=i.emailVerify.get("email"))!=null&&f.errors&&((f=i.emailVerify.get("email"))!=null&&f.touched)?15:-1),s(2),d(i.isLoading?17:-1),s(2),d(i.errorMsg?19:-1),s(),d(i.successMsg?20:-1)}},dependencies:[V,S,A,D,M,k,T,N,R,F],styles:[".is-valid[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(74 222 128 / var(--tw-border-opacity, 1));background-color:#14532d33;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: rgb(74 222 128 / .5);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}@keyframes _ngcontent-%COMP%_pulse{50%{opacity:.5}}.is-invalid[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s cubic-bezier(.4,0,.6,1) infinite;--tw-border-opacity: 1;border-color:rgb(248 113 113 / var(--tw-border-opacity, 1));background-color:#ef444433;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: rgb(248 113 113 / .5);animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}.animate-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}"]})};export{G as ForgotPasswordComponent};
