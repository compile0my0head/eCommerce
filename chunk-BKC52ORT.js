import{a as r}from"./chunk-SZXLN6HP.js";import{c as n,ib as p,s as i,v as a,z as o}from"./chunk-ABLYTEQI.js";var h=class s{_HttpClient=o(p);header={token:localStorage.getItem("userToken")};wishlistItemCount=new n(0);addToWishlist(e){return this._HttpClient.post(`${r.baseUrl}/api/v1/wishlist`,{productId:e},{headers:this.header}).pipe(i(t=>this._syncCountFromResponse(t)))}removeFromWishlist(e){return this._HttpClient.delete(`${r.baseUrl}/api/v1/wishlist/${e}`,{headers:this.header}).pipe(i(t=>this._syncCountFromResponse(t)))}getWishlist(){return this._HttpClient.get(`${r.baseUrl}/api/v1/wishlist`,{headers:this.header}).pipe(i(e=>this._syncCountFromResponse(e)))}_syncCountFromResponse(e){let t=e?.data;Array.isArray(t)&&this.wishlistItemCount.next(t.length)}static \u0275fac=function(t){return new(t||s)};static \u0275prov=a({token:s,factory:s.\u0275fac,providedIn:"root"})};export{h as a};
