@if (productDetails) {
  <section
    class=" min-h-screen flex items-center justify-center bg-gradient-to-b from-[#0f071b] via-[#120b23] to-[#1b1430] text-gray-100 py-16 px-4"
  >
    <div
      class="mt-5 container mx-auto grid md:grid-cols-2 gap-10 items-start bg-[#1b1330]/40 border border-white/10 rounded-2xl shadow-[0_0_40px_-10px_rgba(165,125,255,0.25)] p-8"
    >
      <!-- Product Image -->
      <div class="flex justify-center">
        <div
          class="w-[70%] md:w-[60%] lg:w-[55%] aspect-[3/4] overflow-hidden rounded-xl border border-white/10 shadow-[0_0_25px_-8px_rgba(165,125,255,0.25)] bg-[#120b23]/40"
        >
          <img
            [src]="productDetails.imageCover"
            [alt]="productDetails.title"
            class="w-full h-full object-cover transition-transform duration-700 hover:scale-105"
          />
        </div>
      </div>

      <!-- Product Info -->
      <div class="flex flex-col justify-between h-full">
        <div class="space-y-6">
          <h2 class="text-3xl md:text-4xl font-bold leading-snug">
            {{ productDetails.title }}
          </h2>

          <h3 class="text-sm font-medium text-violet-300 uppercase tracking-wide">
            {{ productDetails.category.name }}
          </h3>

          <p class="text-gray-300 text-lg leading-relaxed">
            {{ productDetails.description }}
          </p>

          <!-- Rating -->
          <div class="flex items-center gap-2">
            @for (i of [1, 2, 3, 4, 5]; track i) {
              <i
                class="fas fa-star text-lg"
                [attr.style]="starFill(productDetails.ratingsAverage, i)"
              ></i>
            }
            <span class="text-sm text-gray-400 ml-2">
              {{ productDetails.ratingsAverage.toFixed(1) || 'â€”' }}
            </span>
          </div>
        </div>

        <!-- Price & CTAs -->
        <div class="pt-6 mt-8 border-t border-white/10 space-y-6">
          <!-- Price Label -->
          <div>
            <p class="text-sm text-violet-300 uppercase tracking-widest mb-1">
              Price
            </p>
            <span
              class="text-2xl font-bold text-white block bg-gradient-to-r from-violet-400 to-pink-300 bg-clip-text text-transparent drop-shadow-[0_0_6px_rgba(165,125,255,0.25)]"
            >
              ${{ productDetails.price }}
            </span>
          </div>

          <!-- Buttons -->
          <div class="flex flex-col gap-4">
            <!-- Add to Cart -->
            <button
              (click)="onAddToCart(productDetails._id, productDetails.title)"
              class="w-full py-4 bg-white text-gray-900 rounded-lg font-semibold shadow-md hover:bg-violet-200 transition-all duration-300 flex items-center justify-center gap-2"
            >
              <i class="fas fa-cart-plus text-lg"></i>
              <span>Add to Cart</span>
            </button>

            <!-- Wishlist Toggle -->
            <button
              (click)="toggleWishlist(productDetails._id, productDetails.title)"
              class="w-full py-4 border rounded-lg font-semibold transition-all duration-300 flex items-center justify-center gap-2 cursor-pointer"
              [ngClass]="{
                'border-violet-400 bg-[#1b1330]/80 text-violet-300 hover:bg-violet-600 hover:text-white': !isWishlisted(),
                'border-pink-400 bg-pink-500/20 text-pink-300 hover:bg-pink-500 hover:text-white': isWishlisted()
              }"
            >
              <i class="fa-heart" [ngClass]="isWishlisted() ? 'fas' : 'far'"></i>
              <span>{{ isWishlisted() ? 'Wishlisted' : 'Add to Wishlist' }}</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>
}
