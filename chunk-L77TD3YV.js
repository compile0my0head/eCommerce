import{a as T}from"./chunk-BKC52ORT.js";import{a as F}from"./chunk-RUKYRDPX.js";import"./chunk-SZXLN6HP.js";import{A as g,Aa as s,Ca as h,Da as E,H as _,I as b,Ia as L,Ka as f,T as w,W as r,aa as c,ca as C,ea as p,gb as M,ia as d,ka as y,la as W,ma as n,na as o,oa as u,ra as k,sa as S,ta as v,tb as I,z as x}from"./chunk-ABLYTEQI.js";import"./chunk-EQDQRRRY.js";var $=(t,i)=>i.id,D=t=>["/products","product-details",t];function A(t,i){t&1&&(n(0,"div",5),u(1,"i",9),o())}function O(t,i){if(t&1&&(n(0,"div",6),s(1),o()),t&2){let e=v();r(),h(" ",e.errorMsg()," ")}}function V(t,i){t&1&&(n(0,"div",7)(1,"div",10),s(2,"\u{1F90D}"),o(),n(3,"p",11),s(4,"Your wishlist is empty"),o(),n(5,"a",12),s(6,"Browse products"),o()())}function P(t,i){if(t&1){let e=k();n(0,"div",13)(1,"div",14),u(2,"img",15),n(3,"button",16),S("click",function(){let a=_(e).$implicit,m=v(2);return b(m.remove(a._id||a.id||(a.product==null?null:a.product._id),a.title||(a.product==null?null:a.product.title)))}),u(4,"i",17),o()(),n(5,"div",18)(6,"a",19),s(7),o(),n(8,"div",20)(9,"span",21),s(10),o(),n(11,"a",22),s(12,"View \u2192"),o()()()()}if(t&2){let e=i.$implicit;r(2),p("src",e.imageCover||(e.product==null?null:e.product.imageCover),w)("alt",e.title||(e.product==null?null:e.product.title)),r(4),p("routerLink",f(6,D,e._id||e.id||(e.product==null?null:e.product._id))),r(),h(" ",e.title||(e.product==null?null:e.product.title)||"Product"," "),r(3),h("$",e.price||(e.product==null?null:e.product.price)||"\u2014",""),r(),p("routerLink",f(8,D,e._id||e.id||(e.product==null?null:e.product._id)))}}function B(t,i){if(t&1&&(n(0,"div",8),y(1,P,13,10,"div",13,$),o()),t&2){let e=v();r(),W(e.items())}}var j=class t{_Wishlist=x(T);_Alert=x(F);isLoading=c(!0);errorMsg=c("");items=c([]);ngOnInit(){this.loadWishlist()}trackById=(i,e)=>e?._id||e?.id||e?.product?._id||i;loadWishlist(){this.isLoading.set(!0),this.errorMsg.set(""),this._Wishlist.getWishlist().subscribe({next:i=>{this.items.set(i?.data||[]),this.isLoading.set(!1)},error:i=>{this.errorMsg.set(i?.error?.message||"Failed to load wishlist"),this.isLoading.set(!1)}})}remove(i,e){this._Wishlist.removeFromWishlist(i).subscribe({next:l=>{this.items.update(a=>a.filter(m=>(m._id||m.id)!==i)),this._Alert.toast(`${e||"Item"} removed from wishlist`,"success")},error:()=>this._Alert.toast("Could not remove item","error")})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=g({type:t,selectors:[["app-wishlist"]],standalone:!0,features:[L],decls:12,vars:6,consts:[[1,"min-h-screen","bg-gradient-to-b","from-[#0c021a]","via-[#1a0f2d]","to-[#251a3f]","text-gray-100","flex","items-center"],[1,"container","mx-auto","max-w-7xl","px-4","py-24"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-2xl","font-bold","text-white","mb-1"],[1,"text-sm","text-violet-300"],[1,"flex","items-center","justify-center","py-20"],[1,"bg-rose-100/20","border","border-rose-300/30","text-rose-300","rounded-xl","p-4"],[1,"text-center","py-20"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6"],[1,"fas","fa-spinner","fa-spin","text-violet-300","text-2xl"],[1,"text-5xl","mb-4"],[1,"text-gray-300"],["routerLink","/products",1,"inline-block","mt-6","px-6","py-2","rounded-lg","bg-violet-600","hover:bg-violet-500","text-white","transition"],[1,"group","bg-white/5","border","border-white/10","rounded-xl","overflow-hidden","hover:shadow-xl","hover:shadow-violet-900/20","transition-all","duration-500"],[1,"relative","aspect-square","overflow-hidden"],[1,"w-full","h-full","object-cover","transition","duration-700","group-hover:scale-105",3,"src","alt"],["type","button",1,"absolute","top-3","right-3","p-2","rounded-full","bg-white/80","hover:bg-white","transition",3,"click"],[1,"fas","fa-heart","text-rose-500"],[1,"p-4"],[1,"block","font-medium","text-white","mb-1","line-clamp-1","hover:text-violet-300","transition",3,"routerLink"],[1,"flex","items-center","justify-between"],[1,"text-violet-300","font-semibold"],[1,"text-sm","text-violet-300","hover:text-violet-200",3,"routerLink"]],template:function(e,l){e&1&&(n(0,"section",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),s(5,"My Wishlist"),o(),n(6,"p",4),s(7),o()()(),C(8,A,2,0,"div",5)(9,O,2,1,"div",6)(10,V,7,0,"div",7)(11,B,3,0,"div",8),o()()),e&2&&(r(7),E("",l.items().length," ",l.items().length===1?"item":"items",""),r(),d(l.isLoading()?8:-1),r(),d(!l.isLoading()&&l.errorMsg()?9:-1),r(),d(!l.isLoading()&&!l.errorMsg()&&l.items().length===0?10:-1),r(),d(!l.isLoading()&&l.items().length?11:-1))},dependencies:[M,I],styles:[".line-clamp-1[_ngcontent-%COMP%]{display:-webkit-box;line-clamp:1;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}"]})};export{j as WishlistComponent};
