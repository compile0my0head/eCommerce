import{a as L}from"./chunk-SFKET6CN.js";import{a as O,b as f,c as G,d as I,e as j,f as C,h as V,i as z,j as H,l as J}from"./chunk-3CLL7LMM.js";import"./chunk-SZXLN6HP.js";import{$a as q,A as T,Aa as l,Ca as M,Ia as N,La as v,W as s,ca as c,ea as h,gb as A,ia as m,ma as n,na as r,oa as _,sa as P,sb as k,ta as w,tb as D,z as S}from"./chunk-ABLYTEQI.js";import"./chunk-EQDQRRRY.js";var b=(t,i)=>({"is-valid":t,"is-invalid":i});function $(t,i){t&1&&(n(0,"p",15),l(1,"This field is required"),r())}function B(t,i){t&1&&(n(0,"p",15),l(1,"Name must have at least 3 characters"),r())}function K(t,i){t&1&&(n(0,"p",15),l(1,"Name can't exceed 20 characters"),r())}function Q(t,i){if(t&1&&(n(0,"div",11),c(1,$,2,0,"p",15)(2,B,2,0,"p",15)(3,K,2,0,"p",15),r()),t&2){let o,e=w();s(),m((o=e.registerForm.get("name"))!=null&&o.getError("required")?1:(o=e.registerForm.get("name"))!=null&&o.getError("minlength")?2:(o=e.registerForm.get("name"))!=null&&o.getError("maxlength")?3:-1)}}function U(t,i){t&1&&(n(0,"p",15),l(1,"This field is required"),r())}function W(t,i){t&1&&(n(0,"p",15),l(1,"This field must be in an email form"),r())}function X(t,i){if(t&1&&(n(0,"div"),c(1,U,2,0,"p",15)(2,W,2,0,"p",15),r()),t&2){let o,e=w();s(),m((o=e.registerForm.get("email"))!=null&&o.getError("required")?1:(o=e.registerForm.get("email"))!=null&&o.getError("email")?2:-1)}}function Z(t,i){t&1&&(n(0,"p",15),l(1,"This field is required"),r())}function ee(t,i){t&1&&(n(0,"p",15),l(1,"Password must be at least 6 character"),r())}function te(t,i){if(t&1&&(n(0,"div"),c(1,Z,2,0,"p",15)(2,ee,2,0,"p",15),r()),t&2){let o,e=w();s(),m((o=e.registerForm.get("password"))!=null&&o.getError("required")?1:(o=e.registerForm.get("password"))!=null&&o.getError("minlength")?2:-1)}}function re(t,i){t&1&&(n(0,"p",15),l(1,"Passwords dont match"),r())}function ne(t,i){t&1&&(n(0,"p",15),l(1,"This field is required"),r())}function ie(t,i){t&1&&(n(0,"p",15),l(1,"Enter a valid phone number"),r())}function oe(t,i){if(t&1&&(n(0,"div"),c(1,ne,2,0,"p",15)(2,ie,2,0,"p",15),r()),t&2){let o,e=w();s(),m((o=e.registerForm.get("phone"))!=null&&o.getError("required")?1:(o=e.registerForm.get("phone"))!=null&&o.getError("pattern")?2:-1)}}function le(t,i){t&1&&(n(0,"span"),_(1,"i",22),r())}function se(t,i){if(t&1&&(n(0,"div",18),l(1),r()),t&2){let o=w();s(),M(" ",o.errorMsg," ")}}function ae(t,i){t&1&&(n(0,"div",19),l(1," Registration completed successfully! "),r())}var Y=class t{isLoading=!1;successMsg=!1;errorMsg="";_Router=S(k);_AuthService=S(L);setRegisterFormSubscribtion;registerForm=new j({name:new C(null,[f.required,f.minLength(3),f.maxLength(20)]),email:new C(null,[f.required,f.email]),password:new C(null,[f.required,f.minLength(6)]),rePassword:new C(null,[f.required]),phone:new C(null,[f.required,f.pattern(/^01[0125][0-9]{8}$/)])},this.confirmPassword);registerSubmit(){this.registerForm.valid?(this.isLoading=!0,this.setRegisterFormSubscribtion=this._AuthService.setRegisterForm(this.registerForm.value).subscribe({next:i=>{console.log(i),i.message=="success"&&(this.isLoading=!1,this.errorMsg="",this.successMsg=!0,setTimeout(()=>{this._Router.navigate(["/login"])},2e3))},error:i=>{this.errorMsg=i.error.message,console.log(i),this.isLoading=!1}})):(this.registerForm.setErrors({mismatch:!0}),this.registerForm.markAllAsTouched()),console.log(this.registerForm)}confirmPassword(i){return i.get("password")?.value===i.get("rePassword")?.value?null:{mismatch:!0}}ngOnDestroy(){this.setRegisterFormSubscribtion?.unsubscribe()}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=T({type:t,selectors:[["app-register"]],standalone:!0,features:[N],decls:48,vars:29,consts:[[1,"min-h-screen","flex","flex-col","justify-center","items-center","bg-gradient-to-b","from-purple-900","to-indigo-950","text-white","px-6"],[1,"mb-8","flex","flex-col","items-center"],[1,"w-16","h-16","bg-white/20","rounded-full","flex","items-center","justify-center","text-3xl","font-bold"],[1,"text-white"],[1,"mt-3","text-2xl","font-semibold","tracking-wide"],[1,"bg-white/10","backdrop-blur-xl","rounded-2xl","shadow-2xl","p-8","w-full","max-w-md","border","border-white/10"],[1,"text-xl","font-bold","text-center","mb-6"],[1,"text-center","text-white/70","mb-5"],[1,"space-y-5",3,"ngSubmit","formGroup"],[1,"block","mb-1","text-sm","text-gray-300"],["formControlName","name","type","text","placeholder","Enter your name",1,"w-full","px-4","py-2","rounded-xl","bg-white/20","text-white","placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-purple-500","transition",3,"ngClass"],[1,"bg-danger","w-50"],["formControlName","email","type","email","placeholder","Enter your email",1,"w-full","px-4","py-2","rounded-xl","bg-white/20","text-white","placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-purple-500","transition",3,"ngClass"],["formControlName","password","type","password","placeholder","Create a password",1,"w-full","px-4","py-2","rounded-xl","bg-white/20","text-white","placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-purple-500","transition",3,"ngClass"],["formControlName","rePassword","type","password","placeholder","Confirm password",1,"w-full","px-4","py-2","rounded-xl","bg-white/20","text-white","placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-purple-500","transition",3,"ngClass"],[1,"text-red-400"],["formControlName","phone","type","tel","placeholder","Enter your phone number",1,"mb-4","w-full","px-4","py-2","rounded-xl","bg-white/20","text-white","placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-purple-500","transition",3,"ngClass"],["type","submit",1,"w-full","mt-3","py-2","bg-purple-600","hover:bg-purple-700","rounded-xl","font-semibold","text-white","transition","transform","hover:scale-[1.02]","active:scale-95"],[1,"mt-4","rounded-xl","bg-rose-100/70","border","border-rose-300/50","text-rose-700","text-sm","px-4","py-3","shadow-sm","backdrop-blur-sm","animate-fadeIn","text-center"],[1,"mt-4","rounded-xl","bg-green-100/70","border","border-green-300/50","text-green-800","text-sm","px-4","py-3","shadow-sm","backdrop-blur-sm","animate-fadeIn","text-center"],[1,"text-sm","text-center","text-gray-300","mt-6"],["routerLink","/login",1,"text-purple-400","hover:text-purple-300","underline"],[1,"fas","fa-spin","fa-spinner","text-red-300"]],template:function(o,e){if(o&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),l(4,"\u{1F6CD}\uFE0F"),r()(),n(5,"h1",4),l(6,"MyShop"),r()(),n(7,"div",5)(8,"h2",6),l(9,"Create Your Account"),r(),n(10,"p",7),l(11," Join our community and start shopping with exclusive offers "),r(),n(12,"form",8),P("ngSubmit",function(){return e.registerSubmit()}),n(13,"div")(14,"label",9),l(15,"Full Name"),r(),_(16,"input",10),r(),c(17,Q,4,1,"div",11),n(18,"div")(19,"label",9),l(20,"Email Address"),r(),_(21,"input",12),r(),c(22,X,3,1,"div"),n(23,"div")(24,"label",9),l(25,"Password"),r(),_(26,"input",13),r(),n(27,"div"),c(28,te,3,1,"div"),r(),n(29,"div")(30,"label",9),l(31,"Re-enter Password"),r(),_(32,"input",14),r(),c(33,re,2,0,"p",15),n(34,"div")(35,"label",9),l(36,"Phone Number"),r(),_(37,"input",16),r(),c(38,oe,3,1,"div"),n(39,"button",17),c(40,le,2,0,"span"),l(41," Create Account "),r(),c(42,se,2,1,"div",18)(43,ae,2,0,"div",19),r(),n(44,"p",20),l(45," Already have an account? "),n(46,"a",21),l(47,"Sign in"),r()()()()),o&2){let a,F,u,x,d,y,g,R,p,E;s(12),h("formGroup",e.registerForm),s(4),h("ngClass",v(14,b,!((a=e.registerForm.get("name"))!=null&&a.errors)&&(((a=e.registerForm.get("name"))==null?null:a.dirty)||((a=e.registerForm.get("name"))==null?null:a.touched)),((a=e.registerForm.get("name"))==null?null:a.errors)&&(((a=e.registerForm.get("name"))==null?null:a.dirty)||((a=e.registerForm.get("name"))==null?null:a.touched)))),s(),m((F=e.registerForm.get("name"))!=null&&F.errors&&((F=e.registerForm.get("name"))!=null&&F.touched)?17:-1),s(4),h("ngClass",v(17,b,!((u=e.registerForm.get("email"))!=null&&u.errors)&&(((u=e.registerForm.get("email"))==null?null:u.dirty)||((u=e.registerForm.get("email"))==null?null:u.touched)),((u=e.registerForm.get("email"))==null?null:u.errors)&&(((u=e.registerForm.get("email"))==null?null:u.dirty)||((u=e.registerForm.get("email"))==null?null:u.touched)))),s(),m((x=e.registerForm.get("email"))!=null&&x.errors&&((x=e.registerForm.get("email"))!=null&&x.touched)?22:-1),s(4),h("ngClass",v(20,b,!((d=e.registerForm.get("password"))!=null&&d.errors)&&(((d=e.registerForm.get("password"))==null?null:d.dirty)||((d=e.registerForm.get("password"))==null?null:d.touched)),((d=e.registerForm.get("password"))==null?null:d.errors)&&(((d=e.registerForm.get("password"))==null?null:d.dirty)||((d=e.registerForm.get("password"))==null?null:d.touched)))),s(2),m((y=e.registerForm.get("password"))!=null&&y.errors&&((y=e.registerForm.get("password"))!=null&&y.touched)?28:-1),s(4),h("ngClass",v(23,b,!((g=e.registerForm.get("rePassword"))!=null&&g.errors)&&!(e.registerForm.errors!=null&&e.registerForm.errors.mismatch)&&(((g=e.registerForm.get("rePassword"))==null?null:g.dirty)||((g=e.registerForm.get("rePassword"))==null?null:g.touched)),(((g=e.registerForm.get("rePassword"))==null?null:g.errors)||(e.registerForm.errors==null?null:e.registerForm.errors.mismatch))&&(((g=e.registerForm.get("rePassword"))==null?null:g.dirty)||((g=e.registerForm.get("rePassword"))==null?null:g.touched)))),s(),m(e.registerForm.getError("mismatch")&&((R=e.registerForm.get("rePassword"))!=null&&R.touched)?33:-1),s(4),h("ngClass",v(26,b,!((p=e.registerForm.get("phone"))!=null&&p.errors)&&(((p=e.registerForm.get("phone"))==null?null:p.dirty)||((p=e.registerForm.get("phone"))==null?null:p.touched)),((p=e.registerForm.get("phone"))==null?null:p.errors)&&(((p=e.registerForm.get("phone"))==null?null:p.dirty)||((p=e.registerForm.get("phone"))==null?null:p.touched)))),s(),m((E=e.registerForm.get("phone"))!=null&&E.errors&&((E=e.registerForm.get("phone"))!=null&&E.touched)?38:-1),s(2),m(e.isLoading?40:-1),s(2),m(e.errorMsg?42:-1),s(),m(e.successMsg?43:-1)}},dependencies:[J,V,O,G,I,z,H,D,q,A],styles:[".is-valid[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(74 222 128 / var(--tw-border-opacity, 1));background-color:#14532d33;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: rgb(74 222 128 / .5);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}@keyframes _ngcontent-%COMP%_pulse{50%{opacity:.5}}.is-invalid[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s cubic-bezier(.4,0,.6,1) infinite;--tw-border-opacity: 1;border-color:rgb(248 113 113 / var(--tw-border-opacity, 1));background-color:#ef444433;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: rgb(248 113 113 / .5);animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}.animate-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}"]})};export{Y as RegisterComponent};
